---
layout: post
title: "Files"
date: 2026-01-29 00:00:00 +0900
author: kang
categories: [OS, Directory]
tags: [OS, Directory, File, Directory, Systems, Metadata, Allocation, FAT, UNIX]
pin: false
math: true
mermaid: true

---

# ğŸ“ Files, Directories, and File Systems

> Clean, GitHubâ€‘friendly summary with structure, highlights, and visuals in mind.

---

## ğŸ—‚ï¸ 1. Files â€” Logical Data Containers

A **file** is a structured collection of data stored on secondary storage.

### ğŸ“Œ File Contents
- Program code
- User data
- Metadata (attributes)

### ğŸ·ï¸ File Attributes (Metadata)
| Attribute | Meaning |
|---------|--------|
| Type | Executable, source, media, library |
| Size | Current & maximum size |
| Permissions | Read / Write / Execute |
| Created Time | File creation timestamp |
| Last Access | Last opened |
| Last Modified | Last edit |
| Owner | File creator |
| Disk Location | Physical storage pointer |

### âš™ï¸ File Operations (System Calls)
```
create(), delete(), open(), close(), read(), write(), seek(), rename()
```

---

## ğŸ“‚ 2. Directories â€” File Organization Structure

Directories organize files in a **tree hierarchy**.

### ğŸŒ³ Directory Structure
- Root directory: `/` or `C:\`
- Subdirectories nested under root

### ğŸ“ Path Types
| Path Type | Example |
|---------|--------|
| Absolute Path | `/home/user/file.txt` |
| Relative Path | `../docs/file.txt` |

### ğŸ“„ Directory Entry Stores
- File name
- File type
- Storage block pointer
- Metadata reference

---

## ğŸ’½ 3. File Systems â€” Disk Management Layer

A **file system** defines how files are stored, retrieved, and protected.

### ğŸ§± Disk Preparation
| Step | Purpose |
|------|--------|
| Partitioning | Divide disk into logical regions |
| Formatting | Install file system structure |

---

## ğŸ§© 4. File Allocation Methods

### ğŸ“ Contiguous Allocation
- File stored in **continuous disk blocks**
- Fast access
- âŒ Causes **external fragmentation**

### ğŸ”— Linked Allocation
- Each block stores pointer to next
- No fragmentation
- âŒ Slow random access

### ğŸ—ƒï¸ Indexed Allocation
- Index block stores **all file block addresses**
- Fast random access
- Used in modern systems

---

## ğŸ§  5. FAT File System (File Allocation Table)

- Based on linked allocation
- FAT stores all block links centrally
- Faster lookup if FAT cached in RAM

### ğŸ“¦ Disk Layout
```
Reserved | FAT Table | Root Directory | Data Area
```

### ğŸ“„ Directory Entry Includes
- File name & extension
- Size
- Timestamps
- Starting block

---

## ğŸ§ 6. UNIX File System â€” i-node Architecture

Uses **indexed allocation**.

### ğŸ“Œ i-node Stores
- File metadata
- Up to **15 block pointers**

### ğŸ§± Block Pointer Levels
| Type | Purpose |
|------|--------|
| Direct Blocks | Store file data |
| Single Indirect | Pointer list |
| Double Indirect | Pointerâ€‘toâ€‘pointer |
| Triple Indirect | Large file support |

Root directory location is always known.

---

## ğŸ’¾ 7. Popular File Systems Comparison

| File System | Platform | Features |
|-----------|---------|--------|
| FAT / exFAT | Portable | Simple, removable drives |
| NTFS | Windows | Security, journaling |
| EXT4 | Linux | Stable, scalable |
| APFS | Apple | Optimized for SSD |

---

## ğŸ§  Developer Takeaways

âœ” File allocation affects performance  
âœ” Indexed allocation improves random access  
âœ” Metadata enables security & ownership  
âœ” FAT = portable, NTFS = secure, EXT4 = scalable  
âœ” File systems manage fragmentation & disk efficiency  
